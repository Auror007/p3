(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{gSbG:function(l,n,e){"use strict";e.r(n);var t=e("8Y7J"),o=e("mrSG"),i=e("N+bC"),u=e("ZZ/e");class s{constructor(l,n,e,t,o,i){this.regServ=l,this.http=n,this.alerCtrl=e,this.router=t,this.nav=o,this.storage=i,this.otp="",this.flag=0,this.storage.get("addr").then(l=>{console.log(l),this.address=l,this.regServ.setAddress(this.address)}),this.storage.get("cord").then(l=>{console.log(l),this.lat=l.lat,this.lng=l.lng,this.regServ.setLat(this.lat),this.regServ.setLng(this.lng)})}ngOnInit(){this.storage.get("activity").then(l=>{this.flag="registered"==l?0:1}),this.storage.get("email").then(l=>{this.flag="registered"==l?0:1})}goback(l){console.log(this.regServ.getEmail()),this.http.post("https://mywash.herokuapp.com/deltemp",{email:this.regServ.getEmail()}).subscribe(l=>{console.log(l)}),"l"==l&&this.router.navigate(["/login"],{replaceUrl:!0}),"r"==l&&this.router.navigate(["/register"],{replaceUrl:!0})}doAlert(l,n){return o.__awaiter(this,void 0,void 0,(function*(){const e=yield this.alerCtrl.create({header:"Error",message:l,buttons:[n]});yield e.present()}))}verify(){if(""==this.otp)this.doAlert("Enter Otp","Okay");else{const{otp:n}=this;this.regServ.setOtp(n);const e=this.regServ.getJson(),t={email:this.regServ.getEmail(),otp:this.otp};console.log(e);try{this.storage.get("activity").then(l=>{"registered"==l?(console.log(e),this.http.post("https://mywash.herokuapp.com/verifyregister",e).subscribe(l=>{console.log(l),1==l.message&&(this.storage.set("num",e.phone),this.router.navigate(["/addvehicle"],{replaceUrl:!0}))},l=>{console.log(l)})):"loggingin"==l&&(console.log(t),this.http.post("https://mywash.herokuapp.com/verifylogin",t).subscribe(l=>{console.log(l),1==l.message?(this.storage.set("activity","loggedin"),this.storage.set("address",l.message),this.storage.set("coords",{lat:l.lat,lng:l.lng}),this.router.navigate(["/tabs/tabs/dash"],{replaceUrl:!0})):(this.doAlert("Invalid Otp","Re-enter"),this.otp="")},l=>{console.log(l)}))})}catch(l){console.dir(l)}}}}class r{}var a=e("pMnS"),g=e("oBZk"),b=e("s7LF"),c=e("IheW"),h=e("iInd"),p=e("xgBC"),d=t.Ab({encapsulation:0,styles:[["ion-icon[_ngcontent-%COMP%]{font-size:32px;margin-left:5%}"]],data:{}});function m(l){return t.Wb(0,[(l()(),t.Cb(0,0,null,null,10,"ion-header",[],null,null,null,g.W,g.o)),t.Bb(1,49152,null,0,u.D,[t.j,t.p,t.F],null,null),(l()(),t.Cb(2,0,null,0,8,"ion-toolbar",[],null,null,null,g.pb,g.H)),t.Bb(3,49152,null,0,u.Eb,[t.j,t.p,t.F],null,null),(l()(),t.Cb(4,0,null,0,1,"ion-icon",[["name","arrow-back-outline"],["size","3"],["slot","start"]],[[8,"hidden",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.goback("r")&&t),t}),g.X,g.p)),t.Bb(5,49152,null,0,u.E,[t.j,t.p,t.F],{name:[0,"name"],size:[1,"size"]},null),(l()(),t.Cb(6,0,null,0,1,"ion-icon",[["name","arrow-back-outline"],["size","3"],["slot","start"]],[[8,"hidden",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.goback("l")&&t),t}),g.X,g.p)),t.Bb(7,49152,null,0,u.E,[t.j,t.p,t.F],{name:[0,"name"],size:[1,"size"]},null),(l()(),t.Cb(8,0,null,0,2,"ion-title",[["align-title","center"]],null,null,null,g.ob,g.G)),t.Bb(9,49152,null,0,u.Cb,[t.j,t.p,t.F],null,null),(l()(),t.Ub(-1,0,["Verify OTP"])),(l()(),t.Cb(11,0,null,null,22,"ion-content",[],null,null,null,g.S,g.k)),t.Bb(12,49152,null,0,u.w,[t.j,t.p,t.F],null,null),(l()(),t.Cb(13,0,null,0,0,"br",[],null,null,null,null,null)),(l()(),t.Cb(14,0,null,0,0,"br",[],null,null,null,null,null)),(l()(),t.Cb(15,0,null,0,11,"ion-item",[],null,null,null,g.cb,g.r)),t.Bb(16,49152,null,0,u.J,[t.j,t.p,t.F],null,null),(l()(),t.Cb(17,0,null,0,2,"ion-label",[["center",""],["position","floating"]],null,null,null,g.db,g.v)),t.Bb(18,49152,null,0,u.P,[t.j,t.p,t.F],{position:[0,"position"]},null),(l()(),t.Ub(-1,0,[" CONFIRM OTP "])),(l()(),t.Cb(20,0,null,0,6,"ion-input",[["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,e){var o=!0,i=l.component;return"ionBlur"===n&&(o=!1!==t.Ob(l,21)._handleBlurEvent(e.target)&&o),"ionChange"===n&&(o=!1!==t.Ob(l,21)._handleIonChange(e.target)&&o),"ngModelChange"===n&&(o=!1!==(i.otp=e)&&o),o}),g.Y,g.q)),t.Bb(21,16384,null,0,u.Mb,[t.p],null,null),t.Rb(1024,null,b.e,(function(l){return[l]}),[u.Mb]),t.Bb(23,671744,null,0,b.h,[[8,null],[8,null],[8,null],[6,b.e]],{model:[0,"model"]},{update:"ngModelChange"}),t.Rb(2048,null,b.f,null,[b.h]),t.Bb(25,16384,null,0,b.g,[[4,b.f]],null,null),t.Bb(26,49152,null,0,u.I,[t.j,t.p,t.F],{type:[0,"type"]},null),(l()(),t.Cb(27,0,null,0,0,"br",[],null,null,null,null,null)),(l()(),t.Cb(28,0,null,0,0,"br",[],null,null,null,null,null)),(l()(),t.Cb(29,0,null,0,4,"ion-row",[],null,null,null,g.fb,g.x)),t.Bb(30,49152,null,0,u.lb,[t.j,t.p,t.F],null,null),(l()(),t.Cb(31,0,null,0,2,"ion-button",[["class","buttons"],["color","dark"],["expand","block"],["fill","solid"],["shape","round"],["size","large"],["style","margin-left: 35%;margin-right: 30%;"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.verify()&&t),t}),g.K,g.c)),t.Bb(32,49152,null,0,u.m,[t.j,t.p,t.F],{color:[0,"color"],expand:[1,"expand"],fill:[2,"fill"],shape:[3,"shape"],size:[4,"size"]},null),(l()(),t.Ub(-1,0,["VERIFY"]))],(function(l,n){var e=n.component;l(n,5,0,"arrow-back-outline","3"),l(n,7,0,"arrow-back-outline","3"),l(n,18,0,"floating"),l(n,23,0,e.otp),l(n,26,0,"number"),l(n,32,0,"dark","block","solid","round","large")}),(function(l,n){var e=n.component;l(n,4,0,e.flag),l(n,6,0,!e.flag),l(n,20,0,t.Ob(n,25).ngClassUntouched,t.Ob(n,25).ngClassTouched,t.Ob(n,25).ngClassPristine,t.Ob(n,25).ngClassDirty,t.Ob(n,25).ngClassValid,t.Ob(n,25).ngClassInvalid,t.Ob(n,25).ngClassPending)}))}function v(l){return t.Wb(0,[(l()(),t.Cb(0,0,null,null,1,"app-registernew",[],null,null,null,m,d)),t.Bb(1,114688,null,0,s,[i.a,c.c,u.b,h.m,u.Kb,p.b],null,null)],(function(l,n){l(n,1,0)}),null)}var f=t.yb("app-registernew",s,v,{},{},[]),C=e("SVse");e.d(n,"RegisternewPageModuleNgFactory",(function(){return k}));var k=t.zb(r,[],(function(l){return t.Lb([t.Mb(512,t.m,t.kb,[[8,[a.a,f]],[3,t.m],t.D]),t.Mb(4608,C.m,C.l,[t.z,[2,C.t]]),t.Mb(4608,b.k,b.k,[]),t.Mb(4608,u.c,u.c,[t.F,t.g]),t.Mb(4608,u.Jb,u.Jb,[u.c,t.m,t.w]),t.Mb(4608,u.Ob,u.Ob,[u.c,t.m,t.w]),t.Mb(1073742336,C.c,C.c,[]),t.Mb(1073742336,b.j,b.j,[]),t.Mb(1073742336,b.c,b.c,[]),t.Mb(1073742336,u.Gb,u.Gb,[]),t.Mb(1073742336,h.o,h.o,[[2,h.t],[2,h.m]]),t.Mb(1073742336,r,r,[]),t.Mb(1024,h.k,(function(){return[[{path:"",component:s}]]}),[])])}))}}]);